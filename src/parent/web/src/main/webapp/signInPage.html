
<form id="signInForm">
<div class="modal fade in" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: block;">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h4 class="modal-title" id="exampleModalLabel">Sign in </h4>
      </div>
      <div class="modal-body">
        
          <div class="form-group">
            <label for="recipient-name" class="control-label">Username or email address:</label>
            <input type="text" class="form-control required" id="recipient-name" name="name" minlength="5"  maxlength="40">
          </div>
          <div class="form-group">
            <label for="message-text" class="control-label">Password:</label>
            <input type="password" class="form-control required" id="message-text" name="password" minlength="5"  maxlength="30">
            
          </div>
       
      </div>
      <div class="modal-footer">
      	<span   style="float:left ;width: 200px;" >
      	<div class="input-group" >
		  <span class="input-group-addon" id="basic-addon1" >验证码:</span>
		  <input type="text" class="form-control" id="imageCode" name="code"  >    
		</div>  
      	</span> 
  
      	<span  id="imageCodeSpan"  style="   border-radius: 3px; padding-right: 3px; margin-top: 1px;float: left;margin-left: 3px;;border: 1px solid; ">
      	 <img id="image" onload="loadimage()"src="/getImageCode?"    onclick="changeImage()">
      	 <a   onclick="changeImage()"><i id="refresh_i" class="fa fa-refresh " aria-hidden="true"></i></a>
      	 <i id="spinner_i" class="fa fa-spinner fa-spin animated"></i>
      	</span>
      	<div class="row">
      		<div class="col-xs-12">
      		<button type="button" class="btn btn-default" data-dismiss="modal" id="siginPageClose">Close</button>
         	<button type="button" class="btn btn-primary" id="submitSignIndata">Sign In</button> 
      		</div>
      	</div>
        
      </div>
    </div>
  </div>
</div>
</form>   
   
<script src="/lib/js/jquery-validation/js/jquery.validate.min.js"></script>  
<script src="/lib/js/jquery-validation/js/additional-methods.js"></script>  
<script>
	
	function loadimage(){ 
	  $("#refresh_i").show();
	  $("#spinner_i").hide();  
	}
	$(function(){ 
		$("#imageCodeSpan").hide();  
		//点击输入框
		$("#imageCode").click(function(){
			//changeImage();
			$("#imageCodeSpan").show();
		    $("#refresh_i").show();
		})
	})
	function changeImage(){ 
		$("#refresh_i").hide();
		$("#spinner_i").show();  
		var date =  new Date(); 
		setTimeout(function(){
			$("#image").attr("src","/getImageCode?"+date);
		},20)
	
		 
	}
</script>